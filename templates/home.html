<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Demand Forecast Prediction</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: Arial, sans-serif; background:#f6f7fb; color:#222; padding:20px; }
    .container { max-width:900px; margin:0 auto; background:white; padding:20px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.08);}
    .row { display:flex; gap:12px; margin-bottom:12px; }
    .col { flex:1; min-width:120px; }
    label { display:block; font-weight:600; margin-bottom:6px; }
    input[type=text], input[type=number], input[type=date], select { width:100%; padding:8px; border:1px solid #ddd; border-radius:4px; }
    button { padding:10px 16px; background:#2b6ef6; color:white; border:none; border-radius:6px; cursor:pointer; }
    .result { margin-top:16px; padding:12px; background:#eef7ff; border:1px solid #cfe9ff; border-radius:6px; }
    .error { margin-top:16px; padding:12px; background:#fff1f0; border:1px solid #ffd6d0; border-radius:6px; color:#9b1c1c;}
    .small { font-size:0.9rem; color:#666; margin-top:4px; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Demand Forecast - Single Prediction</h2>
    <p class="small">Provide the features below (previous demand is required).</p>

    {% if error %}
      <div class="error">{{ error }}</div>
    {% endif %}

    {% if results %}
      <div class="result">
        <strong>Predicted Demand:</strong> {{ results }}
        <div class="small" style="margin-top:8px;">
          <strong>Input:</strong>
          <pre>{{ input | safe }}</pre>
        </div>
      </div>
    {% endif %}

    <form action="/predictdata" method="post">
      <div class="row">
        <div class="col">
          <label for="date">Date</label>
          <input type="date" id="date" name="date" required>
        </div>

        <div class="col">
          <label for="month">Month (1-12)</label>
          <input type="number" id="month" name="month" min="1" max="12" value="1">
        </div>

        <div class="col">
          <label for="seasonality">Seasonality</label>
          <select id="seasonality" name="seasonality">
            <option value="">(select)</option>
            <option>Winter</option>
            <option>Spring</option>
            <option>Summer</option>
            <option>Autumn</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <label for="store_id">Store ID</label>
          <input type="text" id="store_id" name="store_id" placeholder="e.g. S005">
        </div>
        <div class="col">
          <label for="product_id">Product ID</label>
          <input type="text" id="product_id" name="product_id" placeholder="e.g. P0016">
        </div>
        <div class="col">
          <label for="category">Category</label>
          <input type="text" id="category" name="category" placeholder="e.g. Furniture">
        </div>
        <div class="col">
          <label for="region">Region</label>
          <input type="text" id="region" name="region" placeholder="e.g. East">
        </div>
      </div>

      <div class="row">
        <div class="col">
          <label for="inventory_level">Inventory Level</label>
          <input type="number" id="inventory_level" name="inventory_level" step="1" value="0">
        </div>
        <div class="col">
          <label for="units_sold">Units Sold</label>
          <input type="number" id="units_sold" name="units_sold" step="1" value="0">
        </div>
        <div class="col">
          <label for="units_ordered">Units Ordered</label>
          <input type="number" id="units_ordered" name="units_ordered" step="1" value="0">
        </div>
        <div class="col">
          <label for="prev_value">Previous Demand (lag) â€” prev_Demand Forecast</label>
          <input type="number" id="prev_value" name="prev_value" step="0.01" required>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <label for="price">Price</label>
          <input type="number" id="price" name="price" step="0.01" value="0.0">
        </div>
        <div class="col">
          <label for="discount">Discount</label>
          <input type="number" id="discount" name="discount" step="0.01" value="0">
        </div>
        <div class="col">
          <label for="weather_condition">Weather Condition</label>
          <input type="text" id="weather_condition" name="weather_condition" placeholder="e.g. Rainy">
        </div>
        <div class="col">
          <label for="holiday_promotion">Holiday / Promotion (0 or 1)</label>
          <input type="number" id="holiday_promotion" name="holiday_promotion" min="0" max="1" value="0">
        </div>
      </div>

      <div style="margin-top:14px;">
        <button type="submit">Predict Demand</button>
      </div>
    </form>
  </div>
</body>
</html>
